Git cheat sheet
#updates regardless of branch
git add
git commit
git pull origin master
git push origin joseph


==

SELECT Table_Name FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_SCHEMA = 'MCP' AND COLUMN_NAME = 'pk' AND NOT COLUMN_TYPE = 'varchar(50)';

echo -e \\a
Altered db recreate script to populate a db (MCP2) as MCP would be created new.

Determined some things:

mysqldump -u root MCP CommandsSupportedBy FileIDs FileIDsByExtension CommandClassifications CommandTypes Commands CommandRelationships DefaultCommandsForClassifications
mysqldump -u root MCP CommandsSupportedBy FileIDs FileIDsByExtension CommandClassifications CommandTypes Commands CommandRelationships DefaultCommandsForClassifications --skip-triggers --compact --no-create-info

mysqldump -u root MCP CommandsSupportedBy FileIDs FileIDsByExtension CommandClassifications CommandTypes Commands CommandRelationships DefaultCommandsForClassifications > ~/archivematica/src/transcoder/share/mysql2.sql

To restore data:
DefaultCommands for classification

To create:
FilesIdentifiedIDs

To poplulate:
Tasks Configs
MicroServiceChainLinks

To alter:
Default CommandsForClassification should use CommandRelationships, not MicroserviceChainLinks. Although, when creating the MicroserviceChainLinks, the default next step should be null?

Add output UUID
last modified date?


===
ALTER TABLE t2 DROP COLUMN c;
ALTER TABLE t2 ADD d TIMESTAMP;

===


FileIDs FileIDsByExtension CommandClassifications CommandTypes Commands CommandRelationships DefaultCommandsForClassifications 

ALTER TABLE t2 ADD d TIMESTAMP;

ALTER TABLE CommandsSupportedBy ADD newPK VARCHAR(50);
ALTER TABLE FileIDs  ADD newPK VARCHAR(50);
ALTER TABLE FileIDsByExtension  ADD newPK VARCHAR(50);
ALTER TABLE CommandClassifications  ADD newPK VARCHAR(50);
ALTER TABLE CommandTypes  ADD newPK VARCHAR(50);
ALTER TABLE Commands  ADD newPK VARCHAR(50);
ALTER TABLE CommandRelationships  ADD newPK VARCHAR(50);
ALTER TABLE DefaultCommandsForClassifications  ADD newPK VARCHAR(50);


http://www.conandalton.net/2008/09/list-foreign-key-constraints-in-oracle.html
select 
    concat(table_name, '.', column_name) as 'foreign key',  
    concat(referenced_table_name, '.', referenced_column_name) as 'references'
from
    information_schema.key_column_usage
where
    referenced_table_name is not null
AND(
    referenced_table_name = 'CommandsSupportedBy' OR 
    referenced_table_name = 'FileIDs' OR 
    referenced_table_name = 'FileIDsByExtension' OR 
    referenced_table_name = 'CommandClassifications' OR 
    referenced_table_name = 'CommandTypes' OR 
    referenced_table_name = 'Commands' OR 
    referenced_table_name = 'CommandRelationships' OR 
    referenced_table_name = 'DefaultCommandsForClassifications'
);
+-----------------------------------------------------+---------------------------+
| foreign key                                         | references                |
+-----------------------------------------------------+---------------------------+
| CommandRelationships.commandClassification          | CommandClassifications.pk |
| CommandRelationships.command                        | Commands.pk               |
| CommandRelationships.fileID                         | FileIDs.pk                |
| Commands.commandType                                | CommandTypes.pk           |
| Commands.verificationCommand                        | Commands.pk               |
| Commands.eventDetailCommand                         | Commands.pk               |
| Commands.supportedBy                                | CommandsSupportedBy.pk    |
| DefaultCommandsForClassifications.forClassification | CommandClassifications.pk |
| FileIDGroupMembers.fileID                           | FileIDs.pk                |
| FileIDsByExtension.FileIDs                          | FileIDs.pk                |
| FileIDsByPronom.FileIDs                             | FileIDs.pk                |
| FilesIdentifiedIDs.fileID                           | FileIDs.pk                |
| CommandRelationships.commandClassification          | CommandClassifications.pk |
| CommandRelationships.command                        | Commands.pk               |
| CommandRelationships.fileID                         | FileIDs.pk                |
| Commands.commandType                                | CommandTypes.pk           |
| Commands.verificationCommand                        | Commands.pk               |
| Commands.eventDetailCommand                         | Commands.pk               |
| Commands.supportedBy                                | CommandsSupportedBy.pk    |
| DefaultCommandsForClassifications.forClassification | CommandClassifications.pk |
| FileIDGroupMembers.fileID                           | FileIDs.pk                |
| FileIDsByExtension.FileIDs                          | FileIDs.pk                |
| FileIDsByPronom.FileIDs                             | FileIDs.pk                |
| FilesIdentifiedIDs.fileID                           | FileIDs.pk                |
+-----------------------------------------------------+---------------------------+
24 rows in set (0.00 sec)




